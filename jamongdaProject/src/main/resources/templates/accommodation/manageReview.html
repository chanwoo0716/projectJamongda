<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="layout/layout">
<head>
<meta charset="UTF-8">
<title>JAMONGDA : 리뷰관리</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/manageReview.css}" />
<script>
    const email = "[[${email}]]";
    console.log("Host Email:", email);
</script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script th:src="@{/js/manageReview.js}"></script>
</head>
<body>
	<th:block layout:fragment="content">
		<!-- 일반 댓글 작성 팝업 -->
		<div id="singleCommentPopup" class="popup">
		    <h2>댓글 작성 <span class="close">&times;</span></h2>
		    <textarea id="singleCommentText" placeholder="댓글을 입력해주세요."></textarea>
		    <div class="btn-group">
		        <button id="saveSingleComment">저장</button>
		        <button id="closeSinglePopup">닫기</button>
		    </div>
		</div>
		<!-- 일반 댓글 작성 팝업 종료 -->
		
		<!-- 일괄 댓글, 스마트 일괄 댓글 작성 팝업 -->
		<div id="batchCommentPopup" class="popup">
		    <h2>일괄 댓글 작성</h2>
		    <div class="tab-menu">
		        <a href="#" id="batchCommentLink" class="active">직접 댓글</a>
		        <a href="#" id="smartCommentLink">스마트 댓글</a>
		        <span class="close">&times;</span>
		    </div>

		    <!-- 직접 댓글 작성 -->
		    <div id="batchCommentSection">
		        <textarea id="batchCommentText" placeholder="일괄 댓글을 입력해주세요."></textarea>
		        <div class="btn-group">
		            <button id="saveBatchComment">저장</button>
					<button id="closeBatchPopup" class="btn-close">닫기</button>
		        </div>
		    </div>

		    <!-- 스마트 댓글 작성 -->
		    <div id="smartCommentTemplate" style="display: none; margin-top: 10px;">
		        <div>
		            <h3>템플릿</h3>
		            <div class="template-item">
		                <p>안녕하세요 [이메일] 님. [숙소명]를 이용해주셔서 감사합니다. 더 좋은 서비스로 보답하겠습니다.</p>
		                <button class="applyTemplate" data-template="template1">적용</button>
		            </div>
		            <div class="template-item">
		                <p>감사합니다 [이메일]님! [객실명]은 잘 이용하셨나요? 다음에는 더 나은 [숙소명]이 되도록 하겠습니다!</p>
		                <button class="applyTemplate" data-template="template2">적용</button>
		            </div>
		            <div class="template-item">
		                <p>리뷰 작성 감사합니다 [이메일] 님. 좋은 하루 되세요.</p>
		                <button class="applyTemplate" data-template="template3">적용</button>
		            </div>
		        </div>
		        <div class="btn-group">
		            <button id="saveSmartBatchComment">저장</button>
					<button id="closeBatchPopup" class="btn-close">닫기</button>
		        </div>
		    </div>
		    <!--<button id="closeBatchPopup" class="btn-close">닫기</button>-->
		</div>
		<!-- 일괄 댓글, 스마트 일괄 댓글 작성 팝업 종료 -->
		
		<!-- 리뷰 상세 보기 팝업 -->
		<div id="reviewDetailPopup" class="popup">
		    <h2>리뷰 상세 <span class="close" id="closeReviewPopup">&times;</span></h2>
		    <div id="reviewImages"></div>
		    <p><strong>리뷰 내용:</strong> <span id="reviewContent"></span></p>
		    <p><strong>작성일자:</strong> <span id="reviewDate"></span></p>
			<p><strong>작성자 이메일:</strong> <span id="reviewEmail"></span></p>
			
			<!-- 리뷰 댓글 영역 -->
			<div id="reviewCommentSection">
			    <h3>댓글</h3>
			    <p id="reviewComment"></p>
			</div>
			
		    <div class="btn-group">
		        <button id="closeReviewPopupBtn">닫기</button>
		    </div>
		</div>
		<!-- 리뷰 상세 보기 팝업 종료 -->
		
		<!--<h2>리뷰목록</h2>-->
		<div class="table-container">
		    <table class="table-style">
		        <thead>
		            <tr class="tr-style">
						<th class="th-sytle">
							<input type="checkbox" id="selectAll">
						</th>
		                <th class="th-style">숙소</th>
		                <th class="th-style">객실</th>
		                <th class="th-style">제목</th>
		                <th class="th-style">작성일</th>
		                <th class="th-style">작성자</th>
						<th class="th-style">댓글 여부</th>
		                <th class="th-style">댓글쓰기✏️</th>
		            </tr>
		        </thead>
		        <tbody>
					<!--Ajax로 불러오는 영역~-->
		        </tbody>
		    </table>
			<div id="manageReviewBtn">
				<button id="delReviewBtn">선택 삭제</button>
				<button id="batchCommentBtn">일괄 댓글</button>
			</div>
			<div class="pagination"></div>
		</div>
	</th:block>
</body>
</html>