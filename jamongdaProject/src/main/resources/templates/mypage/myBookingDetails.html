<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>예약 상세 정보</title>
<link rel="stylesheet" th:href="@{/css/myBookingList.css}" />
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" th:src="@{/js/common.js}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
	body {
	    font-family: Arial, sans-serif;
	    background-color: #f9f9f9;
	    margin: 0;
	    padding: 0 20px; /* 좌우 여백 추가 */
	    box-sizing: border-box; /* 박스 크기 계산에 패딩과 테두리 포함 */
	}

	.details-container {
	    max-width: 600px;
	    margin: 20px auto;
	    padding: 20px;
	    background-color: #ffffff;
	    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	    border-radius: 10px;
	}

	.details-header {
	    text-align: center;
	    margin-bottom: 20px;
	}

	.details-header h2 {
	    font-size: 24px;
	    color: #333;
	}

	.details-content {
	    font-size: 16px;
	    color: #555;
	}

	.details-row {
	    display: flex;
	    justify-content: space-between;
	    margin-bottom: 20px;
	}

	.details-row h3 {
	    margin-bottom: 10px;
	}

	.details-row img {
	    max-width: 150px;
	    border-radius: 10px;
	}

	.details-info {
	    flex: 1;
	    margin-left: 20px;
	}

	.details-item {
	    display: flex;
		gap: 20px;
	    margin-bottom: 10px;
	}

	.details-label {
	    font-weight: bold;
	}

	.check-section {
	    display: flex;
	    justify-content: space-between;
	}

	.check-section .check-in, .check-section .check-out {
	    flex: 1;
	}
	
	.close-btn {
		width: 100%;
		padding: 10px;
		border-radius: 10px;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		border: none;
		background-color: #fff;
	}
	
	.close-btn:hover {
		cursor: pointer;
	}
</style>
<script th:inline="javascript">
    /*<![CDATA[*/
    var bookingPrice = /*[[${myBookingDetails['bo_price']}]]*/ 270000; // 타임리프 변수를 JavaScript 변수에 할당
    /*]]>*/
</script>
<script>
	$(document).ready(function(){
		function formatNumber(number) {
		    return number.toLocaleString() + '원'; // 기본적으로 쉼표를 사용하여 숫자를 포맷팅
		}
		
		let priceElement = document.querySelector('#bo_price');

		priceElement.textContent = formatNumber(bookingPrice);
		
	    $('#close-btn').click(function(){
	        window.close();
	    });
	});
</script>
</head>
<body>
    <th:block layout:fragment="content">
        <div class="details-container">
            <div class="details-header">
                <h2>예약 상세 정보</h2>
            </div>
            <div class="details-content">
                <div class="details-row">
                    <div class="details-info">
						<h3>예약 정보</h3>
                        <div class="details-item" id="boNumber-section">
                            <span class="details-label">예약번호:</span>
                            <span class="details-value" th:text="${myBookingDetails['bo_number']}"></span>
                        </div>
                        <div class="details-item" id="product-section">
                            <span class="details-value" th:text="'이용숙소 : ' + ${myBookingDetails['acc_name']}"></span>
                        </div>
                        <div class="details-item" id="product-section">
                            <span class="details-value" th:text="'이용객실 : ' + ${myBookingDetails['ro_name']}"></span>
                        </div>
						<br>
                        <div class="check-section">
                            <div class="check-in" id="checkIn-section">
                                <div class="details-item">
                                    <span class="details-value" th:text="${myBookingDetails['bo_checkIn']}"></span>
                                </div>
                                <div class="details-item">
                                    <span class="details-value" th:text="${myBookingDetails['ro_checkIn']}"></span>
                                </div>
                            </div>
                            <div class="check-out" id="checkOut-section">
                                <div class="details-item">
                                    <span class="details-value" th:text="${myBookingDetails['bo_checkOut']}"></span>
                                </div>
                                <div class="details-item">
                                    <span class="details-value" th:text="${myBookingDetails['ro_checkOut']}"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="details-row">
                    <div class="details-info">
                        <h3>예약자 정보</h3>
                        <div class="details-item">
                            <span class="details-label">이용자 이름:</span>
                            <span class="details-value" th:text="${myBookingDetails['bo_name']}"></span>
                        </div>
                        <div class="details-item">
                            <span class="details-label">이용자 전화번호:</span>
                            <span class="details-value" th:text="${myBookingDetails['bo_tel']}"></span>
                        </div>
                    </div>
                </div>

                <div class="details-row">
                    <div class="details-info">
                        <h3>결제 정보</h3>
                        <div class="details-item">
                            <span class="details-label">결제일자:</span>
                            <span class="details-value" th:text="${myBookingDetails['payDate']}"></span>
                        </div>
                        <div class="details-item">
                            <span class="details-label">결제수단:</span>
                            <span class="details-value" th:text="${myBookingDetails['bo_payment']}"></span>
                        </div>
                        <div class="details-item">
                            <span class="details-label">결제금액:</span>
                            <span class="details-value" id="bo_price" th:text="${myBookingDetails['bo_price']}"></span>
                        </div>
                    </div>
                </div>
            </div>			
        </div>
		<button type="button" id="close-btn" class="close-btn">닫기</button>
    </th:block>
</body>
</html>
